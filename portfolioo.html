<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Portfolio de Mutheke</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      background: #000;
      padding: 20px;
      text-align: center;
      color: orange;
    }

    .bloc-projet {
      border-bottom: 1px solid #333;
      padding: 30px 20px;
    }

    .img-projet {
      float: right;
      width: 300px;
      margin-left: 15px;
      border-radius: 5px;
    }

    .bloc-projet h2 {
      color: orange;
    }

    .bloc-projet p {
      line-height: 1.6;
    }

    a {
      color: orange;
    }
  </style>
</head>
<body>
  <header>
    <h1>Portfolio de Mutheke</h1>
  </header>

  <main id="portfolio-container">
    <!-- Projets ici -->
  </main>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
    import {
      getFirestore, collection, getDocs, query, orderBy} from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDh1MNL0RYp8Dk-UoDoqf0sSdS84AhRXHk",
      authDomain: "said-mutheke.firebaseapp.com",
      projectId: "said-mutheke",
      storageBucket: "said-mutheke.appspot.com",
      messagingSenderId: "378853548599",
      appId: "1:378853548599:web:701a11d4f8a9cd6b1d95b2",
      measurementId: "G-GDFYW6PTBD"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function chargerProjets() {
      const container = document.getElementById("portfolio-container");
      const projetsQuery = query(collection(db, "portfolio"), orderBy("date", "desc"));
      const snapshot = await getDocs(projetsQuery);

      snapshot.forEach(doc => {
        const data = doc.data();
        const bloc = document.createElement("section");
        bloc.className = "bloc-projet";

        bloc.innerHTML = `
          <h2>${data.titre}</h2>
          <p>
            <img src="${data.img}" alt="${data.titre}" class="img-projet">
            <strong>Pitch :</strong>${data.pitch}<br><br>
            <strong>Synopsis :</strong> ${data.synopsis}<br><br>
            <strong>Objectif :</strong>${data.objectif}<br><br>
            <strong>RÃ©sultats :</strong> ${data.resultats}<br><br>${data.url} ? `<strong>Voir plus :</strong> <a href="${data.url}" target="_blank">${data.url}</a>` : ""}
          </p>
        `;

        container.appendChild(bloc);
      });
    }

    chargerProjets();
  </script>
</body>
</html>
